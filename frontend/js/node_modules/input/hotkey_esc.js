'use strict';

var arithmetics = require('canvas').arithmetics,
    hitTest     = require('collisions').hitTest,
    linker      = require('linker'),
    createLink  = require('structures').createLink;

module.exports = {
    keyCode: 27,
    onDown:  function(canvas, model) {
        var selected = model.selected;
        if(!selected || selected.x === undefined || selected.y === undefined) {
            return;
        }

        if(!model.nodeGui[selected.id].linking) {
            return;
        }

        var node = model.nodeGui[selected.id];
        delete node.linkerX;
        delete node.linkerY;
        delete node.linking;

        document.body.removeHotkeyEListeners();

        model.emit('refresh');
    },

    onUp: function(canvas, model) {

    }
};

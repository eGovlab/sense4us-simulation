'use strict';

function setupSystem(loadedModel, menuItem, row, item, indexAt) {
    var container = row.setup.call(this, loadedModel, menuItem, item, row);
    if(!container) {
        return;
    }

    if(container.child) {
        menuItem.child.insertChildAt(container.child, indexAt + 1);
        menuItem.child.insertChildAt(container.foldButton, indexAt + 1);
    } else {
        menuItem.child.insertChildAt(container, indexAt);
    }

    return container;
}

module.exports = setupSystem;
'use strict';

var mleftDrag     = require('input').mleftDrag,
    mrightDrag    = require('input').mrightDrag;

var mouseMiddlewares = [
    mleftDrag,
    mrightDrag
];

function addMouseUpListener(loadedModel) {
    loadedModel.addListener('mouseUp', function(canvas, button, endPos) {
        var middlewares = mouseMiddlewares.filter(function(input) {
            return input.button === button;
        });

        middlewares.forEach(function(middleware) {
            middleware.mouseUp(canvas, loadedModel, endPos);
        });

        this.emit('refresh');
    });
}

module.exports = addMouseUpListener;
